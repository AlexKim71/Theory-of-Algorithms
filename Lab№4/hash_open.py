import math # Не завжди потрібен для цього конкретного коду, але якщо є, нехай буде

# --- КОНСТАНТИ ---
M = 13
A = (5**0.5 - 1) / 2 # ~0.6180339887 для методу множення

WORDS_UA = ["СКІЛЬКИ", "ВОВКА", "НЕ", "ГОДУЙ", "А", "ВІН", "УСЕ", "В", "ЛІС", "ДИВИТЬСЯ"]
LETTER_POSITIONS_UA = {
    'А': 1, 'Б': 2, 'В': 3, 'Г': 4, 'Ґ': 5, 'Д': 6, 'Е': 7, 'Є': 8, 'Ж': 9, 'З': 10,
    'И': 11, 'І': 12, 'Ї': 13, 'Й': 14, 'К': 15, 'Л': 16, 'М': 17, 'Н': 18, 'О': 19,
    'П': 20, 'Р': 21, 'С': 22, 'Т': 23, 'У': 24, 'Ф': 25, 'Х': 26, 'Ц': 27, 'Ч': 28,
    'Ш': 29, 'Щ': 30, 'Ь': 31, 'Ю': 32, 'Я': 33
}

# --- ДОПОМІЖНА ФУНКЦІЯ: Обчислення K (суми позицій) ---
def calculate_k(key: str) -> int:
    """Обчислює числовий ключ K як суму позицій букв."""
    k = 0
    for char in key.upper():
        k += LETTER_POSITIONS_UA.get(char, 0)
    return k

# --- ХЕШ-ФУНКЦІЯ для ЗАКРИТОГО ХЕШУВАННЯ (роздільні ланцюжки) ---
# На скріншоті 3 є рядок: address = simple_hash_from_map(k)
# Припустимо, що simple_hash_from_map - це просто хешування методом ділення
def simple_hash_from_map(k: int) -> int:
    """Проста хеш-функція методом ділення: h(K) = K mod M"""
    return k % M

# --- АЛГОРИТМ ПОБУДОВИ ТАБЛИЦІ ---

# Оновлена назва функції
def build_chained_hash_table(words: list, m: int) -> list:
    """
    Будує хеш-таблицю з роздільними ланцюжками (списками) за методом ділення.
    Повертає хеш-таблицю.
    """
    hash_table = [[] for _ in range(m)] # Ініціалізація списку списків

    for word in words:
        k = calculate_k(word)
        address = simple_hash_from_map(k) # Використовуємо вашу хеш-функцію
        hash_table[address].append(word) # Додаємо слово до відповідного ланцюжка
    return hash_table

# Оновлена назва функції
def display_chained_hash_table(table: list, title: str):
    """Виводить хеш-таблицю з ланцюжками у зручному форматі."""
    print(f"\n--- {title} (Таблиця M={M}) ---")
    for i, chain in enumerate(table):
        # Якщо ланцюжок порожній, виводимо '[]', інакше - елементи через кому
        print(f"Індекс {i:02d}: {', '.join(chain) if chain else '[]'}")
    print()

# --- ВИКОНАННЯ ---

print("АЛГОРИТМ ХЕШУВАННЯ З РОЗДІЛЬНИМИ ЛАНЦЮЖКАМИ")

# Будівництво таблиці
# Оновлена назва функції
chained_hash_table = build_chained_hash_table(WORDS_UA, M)
# Оновлена назва функції та заголовок
display_chained_hash_table(chained_hash_table, "Результат Хеш-таблиці з роздільними ланцюжками")
